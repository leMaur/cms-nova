<?php

namespace App\Models;

use Illuminate\Database\Eloquent\Builder;
use Lemaur\Cms\Models\Page as CmsPage;

class Page extends CmsPage
{
    protected static function booted(): void
    {
        parent::booted();

        static::addGlobalScope('page', function (Builder $builder): void {
            $builder->withType('page');
        });

        static::saving(function ($model) {
            $model->type = 'page';
        });
    }
}
